<section class="py-24 bg-sloe-bg-card border-y border-sloe-bg-border">
  <div class="max-w-container mx-auto px-page">
    <h2 class="text-4xl font-bold font-heading text-sloe-text-headings text-center mb-16">
      {{ section.settings.heading }}
    </h2>
    <div class="grid md:grid-cols-3 gap-10">
      {% for block in section.blocks %}
        <div class="text-center p-6 rounded-card border border-sloe-bg-border bg-sloe-bg-default transition-all duration-300 hover:border-sloe-accent hover:shadow-xl hover:shadow-sloe-primary/5">
          <div class="w-12 h-12 mx-auto mb-4 flex items-center justify-center bg-sloe-primary rounded-full text-sloe-text-on-primary text-xl font-bold">
            {{ block.settings.step_number }}
          </div>
          <h3 class="text-xl font-bold font-heading text-sloe-text-headings mb-3">{{ block.settings.title }}</h3>
          <p class="text-sloe-text-body/80">{{ block.settings.description }}</p>
        </div>
      {% endfor %}
    </div>
    {% if section.settings.show_cta %}
      <div class="text-center mt-12">
        <a href="{{ section.settings.cta_url }}" class="bg-sloe-primary text-sloe-text-on-primary rounded-btn py-3 px-6 font-bold font-heading hover:bg-sloe-accent transition-colors duration-200 active:ring-4 ring-sloe-primary/50 inline-block">
          {{ section.settings.cta_text }}
        </a>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "How It Works",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Three Steps to a New You"
    },
    {
      "type": "checkbox",
      "id": "show_cta",
      "label": "Show CTA Button",
      "default": true
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA Button Text",
      "default": "I'm Ready to Start"
    },
    {
      "type": "url",
      "id": "cta_url",
      "label": "CTA Button URL"
    }
  ],
  "max_blocks": 3,
  "blocks": [
    {
      "type": "step",
      "name": "Step",
      "settings": [
        {
          "type": "text",
          "id": "step_number",
          "label": "Step Number",
          "default": "1"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Set Your Goal"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Define your fitness milestones, experience level, and equipment in our 60-second questionnaire."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "How It Works",
      "blocks": [
        {
          "type": "step",
          "settings": {
            "step_number": "1",
            "title": "Set Your Goal"
          }
        },
        {
          "type": "step",
          "settings": {
            "step_number": "2",
            "title": "Activate Your AI Plan"
          }
        },
        {
          "type": "step",
          "settings": {
            "step_number": "3",
            "title": "Fuel & Perform"
          }
        }
      ]
    }
  ]
}
{% endschema %}
